# 🏷 브랜드 & 상품 (Brands / Products)

## 📌 상품 목록 조회

### 기능적 요구사항

- 사용자는 판매중인 상품 목록을 조회할 수 있다.

- 사용자는 특정 브랜드 기준으로 상품 목록을 필터링할 수 있다.

- 사용자는 다음 기준으로 상품 목록을 정렬할 수 있다.

    - 최신 등록일

    - 가격 오름차순

    - 좋아요 내림차순

- 사용자는 상품 목록을 페이지별로 나누어 조회할 수 있다.

    - 페이지 번호: 기본값 0

    - 페이지당 상품 수: 기본값 20

### 비기능적 요구사항

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스 | 설명          | HTTP 상태 코드 |
| :-- | :---------- | :--------- |
| 성공  | 상품 목록 조회 성공 | 200 OK     |

## 📌 상품 상세 정보 조회

### 기능적 요구사항

- 사용자는 특정 상품의 상세 정보를 조회할 수 있다.

실패 케이스

- 상품이 존재하지 않으면, 오류를 반환한다.

### 비기능적 요구사항

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스    | 설명                    | HTTP 상태 코드    |
| :----- | :-------------------- | :------------ |
| 성공     | 상품 상세 정보 조회 성공        | 200 OK        |
| 상품 미존재 | 존재하지 않는 상품 ID로 요청한 경우 | 404 NOT FOUND |

## 📌 브랜드 정보 조회

### 기능적 요구사항

- 사용자는 특정 브랜드의 정보를 조회할 수 있다.

실패 케이스

- 브랜드가 존재하지 않으면, 오류를 반환한다

### 비기능적 요구사항

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스     | 설명                     | HTTP 상태 코드    |
| :------ | :--------------------- | :------------ |
| 성공      | 브랜드 정보 조회 성공           | 200 OK        |
| 브랜드 미존재 | 존재하지 않는 브랜드 ID로 요청한 경우 | 404 NOT FOUND |

---

# ❤️ 좋아요 (Likes)

## 📌 상품 좋아요 등록

### 기능적 요구사항

- 사용자는 로그인한 상태에서만 특정 상품에 좋아요를 등록할 수 있다.

- 사용자는 특정 상품에 한 번만 좋아요를 누를 수 있다.

- 사용자는 상품 목록 및 상품 상세 정보 조회 시 해당 상품의 총 좋아요 수를 확인할 수 있다.

실패 케이스

- 로그인하지 않은 사용자이면, 오류를 반환한다.

- 사용자가 존재하지 않으면, 오류를 반환한다.

- 상품이 존재하지 않으면, 오류를 반환한다.

### 비기능적 요구사항

- 요청에 대한 사용자 인증은 HTTP 헤더 `X-USER-ID`를 통해 처리된다.

- 멱등하게 동작해야 한다.

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스         | 설명                                | HTTP 상태 코드       |
| :---------- | :-------------------------------- | :--------------- |
| 성공          | 상품 좋아요 등록 성공                      | 201 CREATED      |
| 인증되지 않은 사용자 | 로그인하지 않은 사용자가 요청을 시도한 경우          | 401 UNAUTHORIZED |
| 사용자 미존재     | `X-USER-ID`에 해당하는 사용자가 존재하지 않는 경우 | 404 NOT FOUND    |
| 상품 미존재      | 존재하지 않는 상품 ID로 요청한 경우             | 404 NOT FOUND    |

## 📌 상품 좋아요 취소

### 기능적 요구사항

- 사용자는 로그인한 상태에서만 좋아요를 취소할 수 있다.

- 사용자는 자신이 이전에 특정 상품에 등록했던 좋아요만 취소할 수 있다.

### 비기능적 요구사항

- 요청에 대한 사용자 인증은 HTTP 헤더 `X-USER-ID`를 통해 처리된다.

- 멱등하게 동작해야 한다.

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스         | 설명                                | HTTP 상태 코드       |
| :---------- | :-------------------------------- | :--------------- |
| 성공          | 상품 좋아요 취소 성공                      | 204 NO CONTENT   |
| 인증되지 않은 사용자 | 로그인하지 않은 사용자가 요청을 시도한 경우          | 401 UNAUTHORIZED |
| 사용자 미존재     | `X-USER-ID`에 해당하는 사용자가 존재하지 않는 경우 | 404 NOT FOUND    |

---

# 🧾 주문 / 결제 (Orders)

## 📌 주문 요청

### 기능적 요구사항

- 사용자는 로그인한 상태에서만 주문할 수 있다.

- 주문을 요청하려면 최소 하나 이상의 상품을 선택해야 한다.

- 각 상품에 대해 수량을 지정할 수 있다.

- 지정하는 상품 수량은 최소 1개 이상이어야 한다.

- 주문 요청 시 각 상품의 재고를 확인하고 주문 수량만큼 차감한다.

- 각 상품의 가격과 수량을 곱한 총액을 계산하여 포인트를 차감한다.

- 주문 요청이 성공적으로 완료되면, 주문 정보를 외부 시스템으로 전송한다.

실패 케이스

- 로그인하지 않은 사용자이면, 오류를 반환한다.

- 사용자가 존재하지 않으면, 오류를 반환한다.

- 상품이 존재하지 않으면, 오류를 반환한다.

- 지정한 상품 수량이 0개 이하이면, 오류를 반환한다.

- 주문 요청 시, 주문 요청 수량 대비 재고가 부족한 상품이 있으면, 오류를 반환한다.

- 주문 요청 시, 결제하려는 금액보다 사용 가능한 포인트가 부족하면, 오류를 반환한다.

### 비기능적 요구사항

- 요청에 대한 사용자 인증은 HTTP 헤더 `X-USER-ID`를 통해 처리된다.

- 주문 생성 과정에서 재고 차감, 포인트 차감 등 데이터 변경이 발생할 때, 데이터 일관성을 유지해야 한다. (모든 변경 사항이 성공적으로 적용되거나, 혹은 모두 실패하고 롤백되어야 한다.)

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스           | 설명                                | HTTP 상태 코드       |
| :------------ | :-------------------------------- | :--------------- |
| 성공            | 주문 요청 성공                          | 201 CREATED      |
| 인증되지 않은 사용자   | 로그인하지 않은 사용자가 요청을 시도한 경우          | 401 UNAUTHORIZED |
| 사용자 미존재       | `X-USER-ID`에 해당하는 사용자가 존재하지 않는 경우 | 404 NOT FOUND    |
| 상품 미존재        | 존재하지 않는 상품 ID로 요청한 경우             | 404 NOT FOUND    |
| 유효하지 않은 상품 수량 | 지정한 상품 수량이 0개 이하인 경우              | 400 BAD REQUEST  |
| 재고 부족         | 주문 요청 수량 대비 재고가 부족한 상품이 있는 경우     | 409 CONFLICT     |
| 포인트 부족        | 결제하려는 금액보다 사용 가능한 포인트가 부족한 경우     | 409 CONFLICT     |

## 📌 주문 목록 조회

### 기능적 요구사항

- 사용자는 로그인한 상태에서만 주문 목록을 조회할 수 있다.

- 사용자는 본인이 주문한 주문 목록만 조회할 수 있다.

실패 케이스

- 로그인하지 않은 사용자이면, 오류를 반환한다.

- 사용자가 존재하지 않으면, 오류를 반환한다.

### 비기능적 요구사항

- 요청에 대한 사용자 인증은 HTTP 헤더 `X-USER-ID`를 통해 처리된다.

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스         | 설명                                | HTTP 상태 코드       |
| :---------- | :-------------------------------- | :--------------- |
| 성공          | 주문 목록 조회 성공                       | 200 OK           |
| 인증되지 않은 사용자 | 로그인하지 않은 사용자가 요청을 시도한 경우          | 401 UNAUTHORIZED |
| 사용자 미존재     | `X-USER-ID`에 해당하는 사용자가 존재하지 않는 경우 | 404 NOT FOUND    |

## 📌 주문 상세 조회

### 기능적 요구사항

- 사용자는 로그인한 상태에서만 주문 상세 정보를 조회할 수 있다.

- 사용자는 본인이 주문한 주문의 상세 정보만 조회할 수 있다.

실패 케이스

- 로그인하지 않은 사용자이면, 오류를 반환한다.

- 사용자가 존재하지 않으면, 오류를 반환한다.

- 주문이 존재하지 않으면, 오류를 반환한다.

### 비기능적 요구사항

- 요청에 대한 사용자 인증은 HTTP 헤더 `X-USER-ID`를 통해 처리된다.

- 요청 처리 결과에 따라 명확한 HTTP 상태 코드와 함께 적절한 메시지를 반환해야 한다.

| 케이스         | 설명                                | HTTP 상태 코드       |
| :---------- | :-------------------------------- | :--------------- |
| 성공          | 주문 상세 조회 성공                       | 200 OK           |
| 인증되지 않은 사용자 | 로그인하지 않은 사용자가 요청을 시도한 경우          | 401 UNAUTHORIZED |
| 사용자 미존재     | `X-USER-ID`에 해당하는 사용자가 존재하지 않는 경우 | 404 NOT FOUND    |
| 주문 미존재      | 존재하지 않는 주문 ID로 요청한 경우             | 404 NOT FOUND    |
